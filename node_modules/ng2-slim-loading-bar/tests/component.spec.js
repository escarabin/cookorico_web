"use strict";
var testing_1 = require('@angular/core/testing');
var testing_2 = require('@angular/compiler/testing');
var testing_3 = require('@angular/platform-browser-dynamic/testing');
var slim_loading_bar_service_1 = require('../src/slim-loading-bar.service');
var slim_loading_bar_component_1 = require('../src/slim-loading-bar.component');
function main() {
    testing_1.describe('SlimLoadingBar', function () {
        var componentFixture;
        var component;
        var containerDiv;
        var progressDiv;
        testing_1.beforeEachProviders(function () {
            return [testing_3.TEST_BROWSER_DYNAMIC_PLATFORM_PROVIDERS, testing_3.TEST_BROWSER_DYNAMIC_APPLICATION_PROVIDERS, testing_2.TestComponentBuilder, slim_loading_bar_service_1.SlimLoadingBarService];
        });
        // beforeEach(injectAsync([TestComponentBuilder], (tcb:TestComponentBuilder) => {
        testing_1.beforeEach(testing_1.async(testing_1.inject([testing_2.TestComponentBuilder], function (tcb) {
            return tcb.createAsync(slim_loading_bar_component_1.SlimLoadingBarComponent).then(function (cf) {
                componentFixture = cf;
                var element = componentFixture.elementRef.nativeElement;
                containerDiv = element.querySelector('.slim-loading-bar');
                progressDiv = element.querySelector('.slim-loading-bar-progress');
                component = componentFixture.componentInstance;
                componentFixture.detectChanges();
            });
        })));
        testing_1.it('should be defined', function () {
            testing_1.expect(containerDiv).toBeDefined();
            testing_1.expect(progressDiv).toBeDefined();
            testing_1.expect(component).toBeDefined();
        });
        testing_1.it('should change width of progress when calling set progress', function () {
            testing_1.expect(progressDiv.style.width).toBe('0%');
            // Set progress
            component.progress = '30';
            componentFixture.detectChanges();
            testing_1.expect(progressDiv.style.width).toBe('30%');
        });
        testing_1.it('should change colors of progress when calling set color', function () {
            testing_1.expect(progressDiv.style.color).toBe('firebrick');
            // Set color
            component.color = 'green';
            componentFixture.detectChanges();
            testing_1.expect(progressDiv.style.color).toBe('green');
            testing_1.expect(progressDiv.style.backgroundColor).toBe('green');
        });
        testing_1.it('should change height of progress when calling set height', function () {
            testing_1.expect(progressDiv.style.height).toBe('2px');
            // Set height
            component.height = '3px';
            componentFixture.detectChanges();
            testing_1.expect(progressDiv.style.height).toBe('3px');
        });
        testing_1.it('should change visibility of progress when calling show', function () {
            testing_1.expect(progressDiv.style.opacity).toBe('1');
            // Hide
            component.show = false;
            componentFixture.detectChanges();
            testing_1.expect(progressDiv.style.opacity).toBe('0');
            // Show
            component.show = true;
            componentFixture.detectChanges();
            testing_1.expect(progressDiv.style.opacity).toBe('1');
        });
    });
}
exports.main = main;
//# sourceMappingURL=component.spec.js.map