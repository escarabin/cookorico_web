<div class="row"
     *ngIf="!isMapModeEnabled">
    <div class="jobs-count">
        <b>{{ jobs.length }} offres</b> correspondent à vos critères
    </div>
    <div class="col-md-12 search-results-container">
        <div *ngIf="jobs.length == 0 && parametersList['place']"
             class="no-results">
            <h2>Aucune offre d'emploi n'a été trouvée à <br />
                <span class="badge info">{{ parametersList['place']['formatted_address'] }}</span>
            </h2>
            <job-search-bar></job-search-bar>
        </div>

        <job-preview *ngFor="let job of jobs | paginate: { itemsPerPage: 10, currentPage: p }"
                     [job]="job">
        </job-preview>

        <pagination-controls #pagination (pageChange)="p = $event" (click)="pageChanged()">
            <custom-pagination [pagination]="pagination"></custom-pagination>
        </pagination-controls>
    </div>
</div>

<div class="row"
     *ngIf="isMapModeEnabled">
        <div class="jobs-count">
            <b>{{ jobs.length }} offres</b> correspondent à vos critères
        </div>
        <sebm-google-map [latitude]="mapLat"
                         [longitude]="mapLng"
                         [zoom]="zoom">
            <sebm-google-map-marker *ngFor="let job of jobs"
                                    [latitude]="job.business.place.lat"
                                    [longitude]="job.business.place.lon">
                <sebm-google-map-info-window>
                    <strong>{{ job.title }}</strong><br />
                    <p>{{ job.business.title }}</p>
                    <p>{{ job.business.place.city }}</p>
                    <button class="btn btn-primary full-width"
                            routerLink="/recherche/annonce/{{ job.id }}">
                        Voir l'offre
                    </button>
                </sebm-google-map-info-window>
            </sebm-google-map-marker>
        </sebm-google-map>
</div>